doctype html
html(ng-app='app', ng-controller='ApplicationCtrl')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(rel='stylesheet', href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css')
    link(rel='stylesheet', href='/lib/angular-bootstrap-calendar.min.css')
    link(rel='stylesheet', href='/theme.css')
    link(rel='stylesheet', href='/app.css')
    link(rel='stylesheet', href='/print.css')
    title {{params.browserTitle}}
  body
    nav.navbar.navbar-inverse.navbar-fixed-top
      .container.navbar-container
        .navbar-header.pull-left
          a.navbar-brand(href='/#/', target='_top', ng-if='!params.logoFile') {{params.headerName}}
          a.navbar-brand.navbar-brand-img(href='/#/', ng-if='params.logoFile')
            img(alt='{{params.logoAlt}}', ng-src='{{params.logoFile}}')
        button.navbar-toggle(type='button', ng-click='isCollapsed = !isCollapsed')
          span.icon-bar
          span.icon-bar
          span.icon-bar
        .navbar-collapse(ng-class='{collapse: isCollapsed}', ng-init='isCollapsed = true', ng-click='isCollapsed = true') 
          ul.nav.navbar-nav(ng-if="userClass()=='CANDIDATE'")
            li: a(href='/#/canddetails') Details
            li: a(href='/#/timesheets') Timesheets
            li: a(ng-if='false',href='/#/canddiary') Diary
            li: a(href='/#/jobsearch') Job Search            
            li(ng-if="userHasRight('DOCCANDDOWNLOAD')"): a(href='/#/canddocuments') Documents
            li(ng-if="userHasRight('TESTONLY')"): a(href='/#/test') Test
          ul.nav.navbar-nav(ng-if="userClass()=='OWNER'")
            li: a(href='/#/') Home
            li(ng-if="userHasRight('APIDESIGN') && isSwitchedOn('APIDESIGN')"): a(href='/#/apiprocs') API
            li(ng-if="userHasRight('APIDESIGN') && isSwitchedOn('APIDESIGN')"): a(href='/#/jobsearch') Job Search
          ul.nav.navbar-nav.navbar-right(ng-if='isLoggedIn()')
            li
              a(href='/#/login', ng-click='logout()') {{ userName() }} - Log out
    .mynavspacer
    div(ng-view)
    .myfooterspacer

    footer.navbar-default.navbar-fixed-bottom.navbar-inverse.webFooter
      .container
        p.navbar-brand.footerText {{params.footerText}}

    script(src='//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.0/moment.min.js')
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular.min.js')
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular-route.min.js')
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular-messages.min.js')
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular-animate.min.js')
    script(src='//cdn.jsdelivr.net/angular.bootstrap/0.13.3/ui-bootstrap-tpls.min.js')
    script(src='/lib/angular-bootstrap-calendar-tpls.min.js')
    script(src='/app.js')
